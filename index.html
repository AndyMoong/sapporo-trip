<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sapporo Trip Itinerary - Enhanced V0.2.0</title>
  <style>
    /* Base Styles with Dark Mode Support */
    :root {
      --bg-color: #f5f5f7;
      --container-bg: #fff;
      --text-color: #1d1d1f;
      --heading-color: #0066cc;
      --subheading-color: #333;
      --link-color: #0066cc;
      --link-hover-bg: #0066cc;
      --link-hover-color: #fff;
      --toc-bg: #e6f3ff;
      --table-border: #ddd;
      --table-header-bg: #f5f5f7;
      --table-row-hover: #f0f7ff;
      --box-shadow: rgba(0, 0, 0, 0.1);
      --tips-bg: #e6f3ff;
    }
	
	
    [data-theme="dark"] {
      --bg-color: #121212;
      --container-bg: #1e1e1e;
      --text-color: #e0e0e0;
      --heading-color: #4a9ced;
      --subheading-color: #b0b0b0;
      --link-color: #4a9ced;
      --link-hover-bg: #4a9ced;
      --link-hover-color: #121212;
      --toc-bg: #2d2d2d;
      --table-border: #444;
      --table-header-bg: #2d2d2d;
      --table-row-hover: #2a3a4a;
      --box-shadow: rgba(0, 0, 0, 0.3);
      --tips-bg: #2d2d2d;
    }

	/* ===== SCROLL PADDING STARTS ===== */
	html {
	  scroll-behavior: smooth; /* Optional: Makes the jump a smooth scroll */
	  scroll-padding-top: 60px; /* Adjust this value as needed (try 50px - 70px) */
	}


    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    h1, h2, h3 {
      color: var(--text-color);
      transition: color 0.3s ease;
    }

    h1 {
      font-size: 2.1rem;
      text-align: center;
      margin-top: 2rem;
    }

    h2 {
      font-size: 1.3rem;
      margin-top: 2rem;
      color: var(--heading-color);
      transition: color 0.3s ease;
    }

    h3 {
      font-size: 1.2rem;
      margin-top: 1.5rem;
      color: var(--subheading-color);
      transition: color 0.3s ease;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: var(--container-bg);
      border-radius: 12px;
      box-shadow: 0 4px 12px var(--box-shadow);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .section {
      margin-bottom: 2rem;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Collapsible Section Styles */
    .collapsible-header {
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid var(--table-border);
      transition: background-color 0.3s ease;
    }

    .collapsible-header:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }

    [data-theme="dark"] .collapsible-header:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }

    .collapsible-header h2 {
      margin: 0;
    }

    .collapsible-header .toggle-icon {
      font-size: 1.5rem;
      transition: transform 0.3s ease;
    }

    .collapsible-content {
      display: none;
      padding: 10px 0;
    }

    .collapsible-content.open {
      display: block;
    }

    .expanded .toggle-icon {
      transform: rotate(180deg);
    }

    .toc {
      background-color: var(--toc-bg);
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 2rem;
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: background-color 0.3s ease;
    }

    .toc ul {
      list-style: none;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .toc li {
      margin: 0;
    }

    .toc a {
      text-decoration: none;
      color: var(--link-color);
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 8px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .toc a:hover {
      background-color: var(--link-hover-bg);
      color: var(--link-hover-color);
    }

    .map {
      width: 100%;
      height: 300px;
      border-radius: 12px;
      margin-top: 1rem;
      border: 1px solid var(--table-border);
      transform: scale(0.95);
      transition: transform 0.6s ease-out, border-color 0.3s ease;
    }

    .map.visible {
      transform: scale(1);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }

    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid var(--table-border);
      transition: border-color 0.3s ease;
    }

    th {
      background-color: var(--table-header-bg);
      font-weight: bold;
      transition: background-color 0.3s ease;
    }

    tr:hover {
      background-color: var(--table-row-hover);
      transition: background-color 0.3s ease;
    }

    .image-placeholder {
      width: 100%;
      height: 300px;
      background-color: var(--toc-bg);
      border-radius: 12px;
      margin-top: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: var(--link-color);
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .tips, .phrases {
      background-color: var(--tips-bg);
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 2rem;
      transition: background-color 0.3s ease;
    }

    .tips ul, .phrases ul {
      padding-left: 20px;
    }

    .tips li, .phrases li {
      margin: 10px 0;
    }

    /* Dark Mode Toggle */
    .theme-switch-wrapper {
      display: flex;
      align-items: center;
      position: fixed;
      top: 18px;
      right: 20px;
      z-index: 1001;
      background-color: var(--container-bg);
      padding: 5px 10px;
      border-radius: 20px;
      box-shadow: 0 2px 5px var(--box-shadow);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .theme-switch {
      display: inline-block;
      height: 24px;
      position: relative;
      width: 48px;
    }

    .theme-switch input {
      display: none;
    }

    .slider {
      background-color: #ccc;
      bottom: 0;
      cursor: pointer;
      left: 0;
      position: absolute;
      right: 0;
      top: 0;
      transition: .4s;
      border-radius: 24px;
    }

    .slider:before {
      background-color: white;
      bottom: 4px;
      content: "";
      height: 16px;
      left: 4px;
      position: absolute;
      transition: .4s;
      width: 16px;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--link-color);
    }

    input:checked + .slider:before {
      transform: translateX(24px);
    }

    .theme-switch-wrapper em {
      margin-left: 10px;
      font-size: 0.9rem;
    }

    /* Weather Widget */
    .weather-widget {
      background-color: var(--toc-bg);
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background-color 0.3s ease;
    }

    .weather-info {
      display: flex;
      align-items: center;
    }

    .weather-icon {
      font-size: 2.5rem;
      margin-right: 15px;
    }

    .weather-details {
      display: flex;
      flex-direction: column;
    }

    .weather-temp {
      font-size: 1.5rem;
      font-weight: bold;
    }

    .weather-desc {
      font-size: 0.9rem;
    }

    .weather-location {
      font-size: 1rem;
      font-weight: bold;
    }

    .weather-update {
      font-size: 0.8rem;
      color: #666;
    }

    [data-theme="dark"] .weather-update {
      color: #999;
    }

    /* Mobile-Friendly Collapsible Menu */
    .nav-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: var(--container-bg);
      box-shadow: 0 4px 6px var(--box-shadow);
      z-index: 1000;
      transition: height 0.3s ease-in-out, background-color 0.3s ease, box-shadow 0.3s ease;
      overflow: hidden;
    }

    .nav-content {
      display: none;
      padding: 10px;
    }

    .nav-button {
      background-color: var(--link-color);
      color: white;
      padding: 15px 10px;
      text-align: center;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
    }

    /* Show navigation when expanded */
    .nav-container.expanded .nav-content {
      display: block;
    }
    
    /* ===== MODAL SYSTEM ===== */
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      overflow: auto;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      max-width: 95%;
      max-height: 95vh;
      width: auto;
      height: auto;
      border-radius: 8px;
      /* Universal centering */
      margin: auto;
      display: block;
      /* Touch controls */
      touch-action: pan-y pinch-zoom;
      -ms-touch-action: pinch-zoom;
      -webkit-user-select: none;
      user-select: none;
      /* Performance */
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .close-button {
      position: absolute;
      top: 15px;
      right: 25px;
      font-size: 40px;
      font-weight: bold;
      color: white;
      cursor: pointer;
      z-index: 2001;
      text-shadow: 0 0 5px rgba(0,0,0,0.5);
    }

    /* ===== SEAT MAP STYLING ===== */
    .seatmap-container {
      width: 100%;
      max-width: 800px;
      margin: 20px auto;
      border: 1px solid var(--table-border);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px var(--box-shadow);
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .seatmap-thumbnail {
      width: 100%;
      height: auto;
      display: block;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .seatmap-thumbnail:hover {
      transform: scale(1.02);
    }

    /* Flight Headers */
    .flight-header {
      background: var(--toc-bg);
      padding: 12px 15px;
      border-radius: 8px 8px 0 0;
      margin-top: 25px;
      transition: background-color 0.3s ease;
    }
    
    .flight-header.return-flight {
      background: #fff0e6; /* Peach background for return flights */
    }
    
    [data-theme="dark"] .flight-header.return-flight {
      background: #3d2e24; /* Darker peach for dark mode */
    }
    
    .flight-header h3 { 
      margin: 0; 
      color: var(--heading-color);
      font-size: 1.1em;
      transition: color 0.3s ease;
    }
    
    .flight-header p { 
      margin: 5px 0 0; 
      font-size: 0.9em;
      color: var(--subheading-color);
      transition: color 0.3s ease;
    }

    /* Passenger Tables */
    .flight-passengers {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
      box-shadow: 0 1px 3px var(--box-shadow);
      font-size: 0.95em;
      transition: box-shadow 0.3s ease;
    }
    
    .flight-passengers th {
      background: var(--table-header-bg);
      padding: 10px;
      text-align: left;
      position: sticky;
      top: 0; /* For scrolling */
      transition: background-color 0.3s ease;
    }
    
    .flight-passengers td {
      padding: 10px;
      border-bottom: 1px solid var(--table-border);
      transition: border-color 0.3s ease;
    }
    
    .flight-passengers tr:nth-child(even) {
      background: rgba(0, 0, 0, 0.02);
    }
    
    [data-theme="dark"] .flight-passengers tr:nth-child(even) {
      background: rgba(255, 255, 255, 0.02);
    }
    
    .flight-passengers tr:hover {
      background: var(--table-row-hover);
      transition: background-color 0.3s ease;
    }

    /* Seat Notes */
    .flight-passengers td:nth-child(3) {
      color: var(--subheading-color);
      font-size: 0.9em;
      transition: color 0.3s ease;
    }

    /* Activity Level Indicators */
    .activity-level {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: bold;
      margin-left: 10px;
      vertical-align: middle;
    }

    .activity-low {
      background-color: #e0f7e0;
      color: #2e7d32;
    }

    .activity-medium {
      background-color: #fff9c4;
      color: #f57f17;
    }

    .activity-high {
      background-color: #ffebee;
      color: #c62828;
    }

    [data-theme="dark"] .activity-low {
      background-color: #1e3e1e;
      color: #81c784;
    }

    [data-theme="dark"] .activity-medium {
      background-color: #3e3a1e;
      color: #ffd54f;
    }

    [data-theme="dark"] .activity-high {
      background-color: #3e1e1e;
      color: #ef9a9a;
    }

    /* Weather Sensitivity Indicators */
    .weather-sensitivity {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      margin-left: 10px;
      vertical-align: middle;
    }

    .weather-indoor {
      background-color: #e3f2fd;
      color: #1565c0;
    }

    .weather-flexible {
      background-color: #e8f5e9;
      color: #2e7d32;
    }

    .weather-outdoor {
      background-color: #fffde7;
      color: #f9a825;
    }

    [data-theme="dark"] .weather-indoor {
      background-color: #0d2c4d;
      color: #64b5f6;
    }

    [data-theme="dark"] .weather-flexible {
      background-color: #1b3e1e;
      color: #81c784;
    }

    [data-theme="dark"] .weather-outdoor {
      background-color: #3e3c1e;
      color: #ffd54f;
    }

    /* Kid-Friendly Indicator */
    .kid-friendly {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      background-color: #f3e5f5;
      color: #7b1fa2;
      margin-left: 10px;
      vertical-align: middle;
    }

    [data-theme="dark"] .kid-friendly {
      background-color: #301934;
      color: #ce93d8;
    }

    /* PDF Download Button */
    .pdf-download {
      display: inline-block;
      background-color: var(--link-color);
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      text-decoration: none;
      margin-top: 20px;
      font-weight: bold;
	  font-size: 14px;
      transition: background-color 0.3s ease;
    }

    .pdf-download:hover {
      background-color: #004c99;
    }

    [data-theme="dark"] .pdf-download:hover {
      background-color: #5dade2;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      h2 {
        font-size: 1.5rem;
      }
      
      h3 {
        font-size: 1.2rem;
      }
      
      table {
        font-size: 0.9rem;
      }
      
      th, td {
        padding: 8px;
      }
      
      .theme-switch-wrapper {
        top: 10px;
        right: 10px;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      h2 {
        font-size: 1.3rem;
      }
      
      h3 {
        font-size: 1.1rem;
      }
      
      .toc ul {
        flex-direction: column;
        gap: 5px;
      }
      
      .weather-widget {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .weather-info {
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Dark Mode Toggle -->
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider"></div>
    </label>
    <em>🌙</em>
  </div>

  <!-- Fullscreen Image Overlay -->
  <div id="imageModal" class="modal" onclick="closeImage()">
    <span class="close-button">&times;</span>
    <img id="modalImage" class="modal-content" alt="Large Seat Map">
  </div>

  <div class="container">
    <br>
	<h1>Sapporo Trip Itinerary</h1>
    <p>Welcome to our 10-day Sapporo adventure! This guide is designed to help us explore Sapporo and its surroundings with ease. Enjoy a mix of cultural experiences, snow play, and delicious food.</p>
    <p>Lets keep things flexible and make final decisions based on 🔋 energy level, 🌟 wellness, and 😄 mood. Remember it's suppose to be <b>fun</b></p>

    <!-- Weather Widget -->
    <a class="weatherwidget-io" href="https://forecast7.com/en/43d06141d35/sapporo/" data-label_1="SAPPORO" data-label_2="WEATHER" data-icons="Climacons Animated" data-days="5" data-theme="original" >SAPPORO WEATHER</a>

    <!-- PDF Download Button (HIDDEN FOR NOW) -->
    <a href="#" class="pdf-download" id="pdf-download">Download as PDF</a><br>

	<!-- Expand All Section Button -->
	<button id="toggle-all-sections" class="pdf-download" style="border: none; margin-bottom: 20px;">Expand All Sections</button>

    <!-- Quick Reference Section -->
    <div class="section" id="quick-reference">
      <div class="collapsible-header">
        <h2>Quick Reference</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <table>
          <tr><th>📍 Hotel</th><td>Wyndham Garden Sapporo Odori</td></tr>
          <tr><th>🚆 Transport</th><td>JR Rapid Airport Line, Kitaca/ ICOCA for local travel<br> Buy <b>Kitaca</b> card from <b>New Chitose, Level B1</b> machines. Requires cash.</td></tr>
          <tr><th>💴 Cash Needed?</th><td>Yes, for small vendors & some rural areas</td></tr>
          <tr><th>📞 Emergency Numbers</th><td>110 (Police), 119 (Fire/Ambulance)</td></tr>
          <tr><th>🔄 Time Zone</th><td>Japan Standard Time (GMT+9)</td></tr>
          <tr><th>🛂 Passport Tip</th><td>Use <b>zip lock bag</b> to avoid it getting wet<br>Keep a <b>copy</b> of your passport in case of loss</td></tr>
        </table>
        <p>Purchase Kitaca card from New Chitose <b>Level B1</b> machines. Requires cash.</p>
      </div>
    </div>

    <!-- Weather Guide Section -->
    <div class="section" id="weather-guide">
      <div class="collapsible-header">
        <h2>Weather & Clothing Guide</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <p>Sapporo in December is <b>cold and snowy</b>, with temperatures ranging from **-5°C to 0°C**.</p>
        <h3>🧥 What to Wear</h3>
        <ul>
          <li><strong>Thermal Layers:</strong> Heattech or wool base layers</li>
          <li><strong>Outerwear:</strong> Waterproof winter coat</li>
          <li><strong>Footwear:</strong> Waterproof, insulated boots 🥾</li>
          <li><strong>Accessories:</strong> Gloves, beanie, scarf, heat packs 🔥</li>
        </ul>
        <h3>❄️ Snow Safety Tips</h3>
        <ul>
          <li>Consider <b>non-slip shoe attachments</b> for icy streets</li>
          <li>Wear <b>UV protection sunglasses</b> (snow glare is strong!)</li>
          <li>Plan extra time for travel—public transport may be delayed</li>
        </ul>
      </div>
    </div>

    <!-- Top Menu Section -->
    <div class="nav-container">
      <div class="nav-button" onclick="toggleNav()">☰ Menu</div>
      <div class="nav-content">
        <ul>
          <li><a href="#day1">Day 1: Arrival</a></li>
          <li><a href="#day2">Day 2: Exploring Sapporo</a></li>
          <li><a href="#day3">Day 3: Snow Play & Onsen</a></li>
          <li><a href="#day4">Day 4: Ski Day</a></li>
          <li><a href="#day5">Day 5: History & Culture</a></li>
          <li><a href="#day6">Day 6: Otaru Day Trip</a></li>
          <li><a href="#day7">Day 7: Anime & Gadgets</a></li>
          <li><a href="#day8">Day 8: Relaxation</a></li>
          <li><a href="#day9">Day 9: Final Shopping</a></li>
          <li><a href="#day10">Day 10: Departure</a></li>
          <li><a href="#tips">Trip Tips</a></li>
          <li><a href="#flight-info">Flights and Seats Info</a></li>
		  <li><a href="#reminders">Reminders</a></li>
		  <li><a href="#places-to-eat">Places to Eat</a></li>
          <li><a href="#places-of-interest">Places of Interest</a></li>
        </ul>
      </div>
    </div>

    <!-- Day 1 -->
    <div class="section" id="day1">
      <div class="collapsible-header">
        <h2>Day 1: December 22nd (Arrival Day)<br> <span class="activity-level activity-low">Low Activity</span> <span class="weather-sensitivity weather-indoor">Indoor</span></h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>Evening</h3>
        <table>
          <tr><th>🛬 Arrival</th><td>19:35 - Land at <b>New Chitose Airport (CTS)</b></td></tr>
          <tr><th>🚆 Transport</th><td>JR Rapid Airport Line → Sapporo Station (40 min, ¥1,150)</td></tr>
          <tr><th>🏨 Hotel Check-in</th><td>Wyndham Garden Sapporo Odori<br><b>Free drink</b> tickets from <b>17:30-21:00</b><br><b>Free ice cream/ coffee</b> from <b>06:00-18:00</b></td></tr>
          <tr><th>🍱 Dinner</th><td>Nearby <b>convenience store</b> (7-11 & FamilyMart are 1-2 mins walk)</td></tr>
        </table>
        <img src="https://lh3.googleusercontent.com/d/1OpVJuc3hHehYaP0o59v9vTROMEyks28b" alt="Wyndham Garden Odori Sapporo" width="100%" loading="lazy">

        <div class="map" id="map-wyndham"></div>
        <h3>📜 Fun Facts & Travel Tips</h3>
        <ul>
          <li><strong>New Chitose Airport</strong> is one of Japan's busiest, handling <b>over 20 million passengers annually</b>.</li>
          <li>The <b>JR Rapid Airport Line</b> is the <b>fastest</b> way to reach Sapporo, with trains running every <b>15 minutes</b>.</li>
          <li>Lawson, FamilyMart, and 7-Eleven <b>carry hot meals</b> like rice bowls, onigiri, and oden – perfect for a late-night snack!</li>
        </ul>
      </div>
    </div>

    <!-- Day 2 -->
    <div class="section" id="day2">
      <div class="collapsible-header">
        <h2>Day 2: December 23rd (Exploring Sapporo)<br><span class="activity-level activity-medium">Medium Activity</span> <span class="weather-sensitivity weather-flexible">Flexible</span></h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>Morning</h3>
        <table>
          <tr><th>🍽️ Breakfast</th><td>At a nearby <b>café</b></td></tr>
          <tr><th>🏞️ Visit</th><td><strong>Odori Park</strong> & <strong>Sapporo TV Tower</strong> (¥720/adult, ¥300/child)</td></tr>
        </table>
        <img src="https://lh3.googleusercontent.com/d/1V5sV717-mfngMpG7zc4_BMhMiboYrTX2" alt="Sapporo TV Tower Odori Park" width="100%" loading="lazy">
        <div class="map" id="map-odori"></div>
        <h3>Afternoon</h3>
        <table>
          <tr><th>🍜 Lunch</th><td><b>Ramen Yokocho</b> (Ganso Sapporo Ramen Street)</td></tr>
          <tr><th>🍺 Visit</th><td><strong>Sapporo Beer Museum</strong> (free entry) & <strong>Sapporo Factory</strong></td></tr>
        </table>
        <img src="https://lh3.googleusercontent.com/d/16w77zK1YrPkAeQj_7o-6qOua8FV3hvEi" alt="Sapporo Beer Museum" width="100%" loading="lazy">
        
        <div class="map" id="map-beer-museum"></div>
        <h3>Evening</h3>
        <table>
          <tr><th>🍣 Dinner</th><td><b>Nemuro Hanamaru</b> (Conveyor belt sushi)</td></tr>
          <tr><th>🛍️ Shopping</th><td>Explore <b>Daiso, Tokyu Hands</b></td></tr>
        </table>
        
        <img src="https://lh3.googleusercontent.com/d/1GvTtqfcrnYEGOulZoflZ5jieoJC3tKms" alt="Nemuro at Sapporo" width="100%" loading="lazy">
        <h3>📜 Fun Facts & Travel Tips</h3>
        <ul>
          <li><strong>Odori Park</strong> spans <b>1.5 km</b> and hosts the famous <b>Sapporo Snow Festival</b> every February.</li>
          <li><strong>Sapporo TV Tower</strong>, built in <b>1957</b>, offers <b>a panoramic view</b> of the city from 90m high.</li>
          <li><strong>Sapporo Beer</strong> was Japan's <b>first brewery</b> (est. 1876). The museum offers <b>free tastings</b>!</li>
          <li><b>Ramen Yokocho</b> is home to <b>over 15 ramen shops</b>, serving the region's signature <b>miso ramen</b>.</li>
        </ul>
        
        <h3>Alternative Indoor Activities (Bad Weather)</h3>
        <ul>
          <li><strong>Sapporo Factory Shopping Mall</strong> - Connected to the Beer Museum, offers shopping and dining in a historic brewery building</li>
          <li><strong>Sapporo Station Shopping</strong> - Extensive underground shopping areas connected to the station</li>
          <li><strong>Nijo Market</strong> - Covered seafood market with indoor food stalls</li>
        </ul>
      </div>
    </div>

    <!-- Day 3 -->
    <div class="section" id="day3">
      <div class="collapsible-header">
        <h2>Day 3: December 24th (Onsen and White Illumination)<br> <span class="activity-level activity-medium">Medium Activity</span> <span class="weather-sensitivity weather-outdoor">Outdoor</span></h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>Morning</h3>
        <table>
          <tr><th>🚍 Transport</th><td>Bus to <b>Jozankei Onsen</b> (1.5h, ¥1,500)</td></tr>
          <tr><th>🛁 Activity</th><td><b>Ladies</b>: Open-air onsen 🌿 / <b>Men & boys</b>: Explore nearby town and onsen egg</td></tr>
        </table>
        <img src="https://lh3.googleusercontent.com/d/1asr1Qn4ob8Su1b-ECSIAVzbK1u8YqLWD" alt="Jozankei Onsen" width="100%" loading="lazy">
        <div class="map" id="map-jozankei"></div>
        <h3>Evening</h3>
        <table>
          <tr><th>🍽️ Sapporo White Illumination</th><td>Return to <b>Odori Park</b>, for LED lights event</td></tr>
          <tr><th>🍽️ Dinner</th><td> Dine at a local <b>izakaya</b>. May be crowded due to x'mas</td></tr>
        </table>
        <img src="https://lh3.googleusercontent.com/d/15yjpt7N3YqAtZ44UmF0-fkT1JS-jmxd5" alt="Jozankei Onsen" width="100%" loading="lazy">
        <h3>📜 Fun Facts & Travel Tips</h3>
        <ul>
          <li>Remember to <b>bring small towels</b> to dry feet, for those <b>visiting dipping pool</b></li>
          <li><strong>Takino Suzuran Park</strong> has <b>over 400 hectares of snowfields</b> — great for sledding & winter fun!</li>
          <li><strong>Jozankei Onsen</strong> was <b>discovered in 1866</b>, known for its healing hot springs. The water is rich in <b>sodium chloride</b>, which helps keep you warm!</li>
          <li>Many onsens <b>prohibit tattoos</b> — check before visiting! Some offer <b>tattoo cover stickers</b>.</li>
        </ul>
        
        <h3>Alternative Indoor Activities (Bad Weather)</h3>
        <ul>
          <li><strong>Sapporo Art Park</strong> - Indoor art museum with rotating exhibitions</li>
          <li><strong>Sapporo Clock Tower Museum</strong> - Historic building with exhibits on Sapporo's history</li>
          <li><strong>Hokkaido University Museum</strong> - Natural history and cultural exhibits</li>
        </ul>
      </div>
    </div>
	
	<!-- Day 4 -->
    <div class="section" id="day4">
      <div class="collapsible-header">
        <h2>Day 4: December 25th (Ski Day)<br> <span class="activity-level activity-high">High Activity</span> <span class="weather-sensitivity weather-outdoor">Outdoor</span></h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>Morning</h3>
        <table>
          <tr><th>🚌 Transport</th><td>Shuttle to <b>Sapporo Teine Ski Resort</b> (1h, ¥1,500)</td></tr>
    		<tr><th>⛷️ Activity</th><td><b>Beginner-friendly ski lesson</b> (rentals available)<br>Ski gear rentals per day <b>¥20,200/ person</b>
			<br>Includes skis, boots, poles, jackets, bottom, helmet, beanie, googles, and gloves</td></tr>
			<tr><th>💡 Tips</th><td>For beginner class: Must arrive by <b>9:30AM</b> (11AM to 12:30PM, ~¥28,000)
			<br><b>Class includes ski gears</b> that can be used for the rest of the day<br>
			<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Lift pass not included</b> for half-day class
			<br>
			<br><b>BigRuns bus</b> - Return transfer + 7H lift ticket. Needs to be <a href="https://bigruns.com/basu_group/%e5%86%ac%e5%ad%a3%e9%81%8b%e8%a1%8c-%e6%9c%ad%e5%b9%8c%e5%b8%82%e5%86%85%e6%8c%87%e5%ae%9a%e3%83%9b%e3%83%86%e3%83%ab-%e3%82%b5%e3%83%83%e3%83%9d%e3%83%ad%e3%83%86%e3%82%a4%e3%83%8d?lang=en" target="_blank"><b>reserved 2 weeks in advance</b></a>
			<br><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Hotel Abest Sapporo</b> is the closest pickup/ drop off. 200m from our hotel</td></tr>
        </table>
        <img src="https://lh3.googleusercontent.com/d/1lIXDQgt1fm9Qgf_0b61xEiN-rB2J_pBV" alt="Sapporo Teine" width="100%" loading="lazy">
      <div class="map" id="map-teine"></div>
      <h3>Afternoon</h3>
      	<table>
    		<tr><th>🍽️ Lunch</th><td>Ski resort <b>cafeteria</b> (¥1,000–¥1,500)</td></tr>
    		<tr><th>🏔️ Activity</th><td>Continue skiing/snowboarding, visit kids park or relax at the resort</td></tr>
		</table>
		<img src="https://lh3.googleusercontent.com/d/1xcc0K-AYByzHunb6vOq-oTrTC1Y9d85h" alt="Sapporo Teine Kids Park" width="100%" loading="lazy">
		
		  <h3>Evening</h3>
			<table>
				<tr><th>🍖 Dinner</th><td>Try <b>Genghis Khan (Jingisukan) grilled lamb</b> (¥2,500–¥3,500)<br>Visit Aruko Jingisukan near our hotel</td></tr>
		</table>
		<img src="https://lh3.googleusercontent.com/d/1koxuBH0OqdFWAs1vDuZ2GUecELeHMDRX" alt="Jingisukan" width="100%" loading="lazy">
		<h3>📜 Fun Facts & Travel Tips</h3>
		<ul>
				<li><strong>Sapporo Teine</strong> was a <b>venue for the 1972 Winter Olympics</b>. It’s perfect for beginners!</li>
				<li><b>Jingisukan (Genghis Khan)</b> is Hokkaido’s signature <b>grilled lamb dish</b>, served on a dome-shaped skillet.</li>
				<li>Wear <b>waterproof gloves & thermal socks</b> to stay warm on the slopes.</li>
		</ul>
      </div>
    </div>
		

	<!-- Day 5 -->
    <div class="section" id="day5">
      <div class="collapsible-header">
        <h2>Day 5: December 26th (Historical and Cultural Day)<br> <span class="activity-level activity-medium">Medium Activity</span> <span class="weather-sensitivity weather-outdoor">Outdoor</span></h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>Morning</h3>
        <table>
    		<tr><th>🏛️ Visit</th><td><strong>Hokkaido Museum of Modern Art</strong> (¥500/adult, ¥250/child)</td></tr>
    		<tr><th>🏛️ Visit</th><td><strong>Former Hokkaido Government Office Building</strong> (free entry)</td></tr>
		</table>
		<img src="https://lh3.googleusercontent.com/d/168zA0f5AJKUdKzEq2jNt3SpAxmmRNCw0" alt="Government Office" width="100%" loading="lazy">	

      <div class="map" id="map-museum"></div>
      <h3>Afternoon</h3>
      	<table>
    		<tr><th>🍛 Lunch</th><td>Try <b>Soup Curry</b>, a Hokkaido specialty (¥1,000–¥1,500)</td></tr>
    		<tr><th>🏔️ Visit</th><td><strong>Mt Moiwa</strong>, enjoy amazing city view. Consider catching the <b>sunset</b><br> Use <b>Ropeway + Mini cable car</b> (¥2100/adult, ¥1050/child)<br> <b>Cash-only</b> at ticket counters</td></tr>
    		<tr><th>🛍️ Shopping</th><td>Explore <b>Tanukikoji Shopping Street</b> for souvenirs & snacks</td></tr>
  	</table>
		<img src="https://lh3.googleusercontent.com/d/1RhTtNCkbqFyDXn0oR8q3Erbdxa1wjE7F" alt="Curry Ramen" width="100%" loading="lazy">
		<br>
		<br>
		<img src="https://lh3.googleusercontent.com/d/1j9nSzQH8VhU2012y1T5IOt2Fejw06SW9" alt="Mt Moiwa" width="100%">	
		<div class="map" id="map-mtmoiwa"></div>
	
      <h3>Evening</h3>
      	<table>
    		<tr><th>🍽️ Dinner</th><td>Casual dining or <b>convenience store meal</b></td></tr>
		</table>
		<img src="https://lh3.googleusercontent.com/d/1ijdhe5eUhqBZfoAGWx8mj6W0yPQ7XJ-b" alt="Family Mart" width="100%" loading="lazy">

		<h3>📜 Fun Facts & Travel Tips</h3>
			<ul>
					<li>The <strong>Hokkaido Museum of Modern Art</strong> was <b>established in 1977</b> and features <b>both Japanese & international artists</b>.</li>
					<li>The <strong>Former Hokkaido Government Office</strong> is known as the <b>"Red Brick Office"</b> and was built in <b>1888</b>.</li>
					<li><b>Soup Curry</b> originated in Sapporo and is made with <b>a thin, spicy broth and fresh vegetables</b>.</li>
					<li><b>Mt. Moiwa’s cable car</b> is one of Japan’s few <b>rotating gondolas</b> 🚡✨. At the top, couples lock padlocks on the <b>“Bell of Happiness”</b> 🔔❤️. </li>
			</ul>
      </div>
    </div>


	<!-- Day 6 -->
    <div class="section" id="day6">
      <div class="collapsible-header">
        <h2>Day 6: December 27th (Day Trip to Otaru)<br> <span class="activity-level activity-low">Low Activity</span> <span class="weather-sensitivity weather-outdoor">Outdoor</span></h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>Morning</h3>
      		<table>
    			<tr><th>🚆 Transport</th><td>Train to <b>Otaru</b> (30 min, ¥640)</td></tr>
    			<tr><th>🏞️ Visit</th><td><strong>Otaru Canal</strong> & <strong>Sakaimachi Street</strong></td></tr>
  		</table>
		<img src="https://lh3.googleusercontent.com/d/1IqyEdZbrLzy81nPcWw_vo72lxKu3iveo" alt="Sakaimachi Street" width="100%" loading="lazy">

      <div class="map" id="map-otaru"></div>
      <h3>Afternoon</h3>
      		<table>
    			<tr><th>🍣 Lunch</th><td>Fresh seafood at <b>Otaru Sankaku Market</b> (¥2,000–¥3,000)</td></tr>
   			<tr><th>🎶 Visit</th><td><strong>Otaru Music Box Museum</strong> & <strong>Nikka Whisky Distillery</strong></td></tr>
  		</table>
      <h3>Evening</h3>
      		<table>
    			<tr><th>✨ Event</th><td>Experience the <b>Otaru Snow Light Path Festival</b> (if available)</td></tr>
    			<tr><th>🚆 Return</th><td>Train back to Sapporo</td></tr>
    			<tr><th>🍽️ Dinner</th><td>Casual dining in Sapporo</td></tr>
  	</table>
	<img src="https://lh3.googleusercontent.com/d/1cH8qdgwhPAHhJlC7s5NdvATt4yeN4nRN" alt="Otaru Canal" width="100%" loading="lazy">
	<h3>📜 Fun Facts & Travel Tips</h3>
  		<ul>
    			<li><strong>Otaru Canal</strong> was built in <b>1923</b> and was once a <b>major trading port</b> for Hokkaido.</li>
    			<li>The <strong>Otaru Music Box Museum</strong> houses <b>over 25,000 music boxes</b>, some dating back to <b>the 19th century</b>.</li>
    			<li>The <strong>Nikka Whisky Distillery</strong> was founded in <b>1934</b> by Masataka Taketsuru, the <b>father of Japanese whisky</b>.</li>
  		</ul>
      </div>
    </div>	


	<!-- Day 7 -->
    <div class="section" id="day7">
	<div class="collapsible-header">
	<h2>Day 7: December 28th (Anime and Gadgets)<br> <span class="activity-level activity-medium">Medium Activity</span> <span class="weather-sensitivity weather-indoor">Indoor</span></h2>
	<span class="toggle-icon">▼</span>
	</div>
	<div class="collapsible-content">
	<h3>Morning</h3>
		<table>
			<tr><th>🎮 Visit</th><td><strong>Pokémon Center Sapporo</strong> & <strong>Animate Sapporo</strong></td></tr>
			<tr><th>📷 Explore</th><td><strong>BIC Camera</strong> and Yodobashi Camera for Japanese gadgets & electronics</td></tr>
		</table>
		<img src="https://lh3.googleusercontent.com/d/1fJksBFmW-g76e2qN_FMODzB9PmgxUsQZ" alt="Yodobashi Camera" width="100%" loading="lazy">

	<div class="map" id="map-pokemon"></div>
	<h3>Afternoon</h3>
		<table>
			<tr><th>🍛 Lunch</th><td>Enjoy <b>katsu curry</b> at a local restaurant (¥1,000–¥1,500)</td></tr>
			<tr><th>🛍️ Shopping</th><td>Browse <b>Sapporo Station Shopping Mall</b> for souvenirs & anime merchandise</td></tr>
		</table>
	<h3>Evening</h3>
		<table>
			<tr><th>🌳 Relax</th><td>Walk through <b>Nakajima Park</b> for a scenic break</td></tr>
			<tr><th>🍣 Dinner</th><td>Casual dining or <b>conveyor belt sushi</b></td></tr>
		</table>
		<img src="https://lh3.googleusercontent.com/d/1vABjH64f6puzlF1zynHqgPLNhqikIYcp" alt="Nakajima Park" width="100%" loading="lazy">
	<h3>📜 Fun Facts & Travel Tips</h3>
		<ul>
			<li>Remember to check the <a href="https://taxfreeshops.jp/en" target="_blank" style="color: #0066cc; text-decoration: underline;">Tax Free Shop online</a> for additional discounts when visiting BIC camera</li>
			
		</ul>
      </div>
    </div>


	<!-- Day 8 -->
    <div class="section" id="day8">
	<div class="collapsible-header">
	<h2>Day 8: December 29th (Relaxation and Local Experiences)<br> <span class="activity-level activity-medium">Medium Activity</span> <span class="weather-sensitivity weather-indoor">Indoor</span></h2>
	<span class="toggle-icon">▼</span>
	</div>
	<div class="collapsible-content">
	<h3>Morning</h3>
      	<table>
    		<tr><th>🍫 Visit</th><td><strong>Shiroi Koibito Park</strong> (¥600/adult, ¥300/child) – Chocolate-making experience</td></tr>
		</table>
		  <img src="https://lh3.googleusercontent.com/d/1uqwhxzmXRV9GLGHqJV6LeDmgeXCAPX8Y" alt="Shiroi Koibito Park" width="100%" loading="lazy">
		  <div class="map" id="map-shiroi"></div>
      <h3>Afternoon</h3>
      	<table>
    		<tr><th>🍽️ Lunch</th><td>Enjoy a meal at the park’s <b>café</b></td></tr>
    		<tr><th>🦁 Visit</th><td><b>Maruyama Zoo</b> (¥600/adult, ¥300/child) – See Hokkaido’s native wildlife</td></tr>
    		<tr><th>⛩️ Explore</th><td>Visit <b>Hokkaido Shrine</b> for a cultural experience</td></tr>
		</table>
		<img src="https://lh3.googleusercontent.com/d/1LmatwKZfMNzTN37fKpFMm-AnWkuOgp0a" alt="Maruyama Zoo" width="100%" loading="lazy">
		<div class="map" id="map-maruyamazoo"></div>
      <h3>Evening</h3>
      	<table>
    		<tr><th>🍶 Dinner</th><td>Experience <b>izakaya-style dining</b> in Susukino</td></tr>
		</table>

		<h3>📜 Fun Facts & Travel Tips</h3>
			<ul>
    			<li><strong>Shiroi Koibito Park</strong> is home to <b>Hokkaido’s famous white chocolate cookies</b>, a top souvenir!</li>
    			<li><strong>Maruyama Zoo</strong> opened in <b>1951</b> and houses animals suited to <b>cold climates</b>, including <b>Hokkaido brown bears & wolves</b>.</li>
				<li>The <strong>Hokkaido Shrine</strong>, built in <b>1869</b>, is dedicated to <b>Emperor Meiji</b> and is a great place to experience Japanese traditions.</li>
			</ul>
      </div>
    </div>


	<!-- Day 9 -->
    <div class="section" id="day9">
	<div class="collapsible-header">
	<h2>Day 9: December 30th (Final Shopping and Relaxation)<br> <span class="activity-level activity-low">Low Activity</span> <span class="weather-sensitivity weather-flexible">Flexible</span></h2>
	<span class="toggle-icon">▼</span>
	</div>
	<div class="collapsible-content">
	<h3>Morning</h3>
      <table>
    		<tr><th>🦀 Visit</th><td><strong>Nijo Market</strong> for fresh seafood & local products</td></tr>
    		<tr><th>🛍️ Shopping</th><td>Explore <b>Hokkaido Shiki Marche</b> at Sapporo station for last-minute souvenirs</td></tr>
  	</table>
	  <img src="https://lh3.googleusercontent.com/d/1psKH7rO8vNoxFxhsfOycXKEDSHjvktS7" alt="Nijo Market" width="100%" loading="lazy">
      <div class="map" id="map-nijo"></div>
      <h3>Afternoon</h3>
      	<table>
    		<tr><th>🍣 Lunch</th><td>Enjoy sushi or seafood at <b>Nijo Market</b></td></tr>
    		<tr><th>🌳 Explore</th><td>Walk around <b>Odori Park</b> for a relaxing break</td></tr>
    		<tr><th>🍰 Treat</th><td>Visit a <b>Happy Pancake</b> for fluffy japanese pancake</td></tr>
  	</table>
	  <img src="https://lh3.googleusercontent.com/d/13mv1CGBjm682foGQdTyQUDO5sBWlaSOy" alt="Happy Pancake" width="100%" loading="lazy">
      <div class="map" id="map-happypancake"></div>
      <h3>Evening</h3>
      	<table>
    		<tr><th>🍽️ Dinner</th><td>Casual dining or <b>convenience store meal</b></td></tr>
  	</table>
	<h3>📜 Fun Facts & Travel Tips</h3>
  		<ul>
    			<li><strong>Nijo Market</strong> has been a <b>seafood hub since the early 1900s</b>, famous for its fresh crabs & uni (sea urchin).</li>
    			<li><strong>Tokyu Hands</strong> is a <b>one-stop shop for Japanese stationery, DIY goods, and souvenirs</b>.</li>
    			<li>Many convenience stores offer <b>"limited edition" Japanese snacks</b> that make great souvenirs!</li>
  		</ul>
      </div>
    </div>


	<!-- Day 10 -->
    <div class="section" id="day10">
	<div class="collapsible-header">
	<h2>Day 10: December 31st (Departure Day)<br> <span class="activity-level activity-low">Low Activity</span> <span class="weather-sensitivity weather-indoor">Indoor</span></h2>
	<span class="toggle-icon">▼</span>
	</div>
	<div class="collapsible-content">
		<h3>Morning</h3>
			<table>
				<tr><th>🍽️ Breakfast</th><td>At a nearby <b>café</b></td></tr>
				<tr><th>🛍️ Last-Minute</th><td>Shopping or <b>relaxing before the flight</b></td></tr>
		</table>
		  <h3>Afternoon</h3>
			<table>
				<tr><th>🚆 Transport</th><td>Take the <b>train to New Chitose Airport</b> (40 min, ¥1,150/adult)</td></tr>
				<tr><th>✈️ Explore</th><td>Visit <b>Doraemon Waku Waku Sky Park</b> at the airport (free entry)</td></tr>
		</table>
		  <img src="https://lh3.googleusercontent.com/d/1qoDxr9mp664WwciVmz7Jf2E1VAuiHXNE" alt="Doraemon Cafe" width="100%" loading="lazy">
		  
		  <h3>Evening</h3>
			<table>
				<tr><th>🛫 Flight</th><td><strong>20:30</strong> - Depart for Kuala Lumpur</td></tr>
		</table>

		<h3>📜 Fun Facts & Travel Tips</h3>
		<ul>
				<li>The <b>Doraemon Waku Waku Sky Park</b> has an <b>interactive play area & themed café</b>, great for kids.</li>
				<li>New Chitose Airport is <b>one of Japan’s best airports for food & shopping</b>, featuring <b>exclusive souvenirs</b>.</li>
				<li>Make sure to <b>arrive at the airport at least 2 hours before departure</b> to allow for security & duty-free shopping.</li>
		</ul>
      </div>
    </div>



    <!-- Additional days would follow the same pattern with collapsible sections -->
    <!-- For brevity, I'm only showing the first three days in this example -->

    <!-- Trip Tips and Considerations -->
    <div class="section tips" id="tips">
      <div class="collapsible-header">
        <h2>Trip Tips and Considerations</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>🌨️ Weather & Clothing</h3>
        <table>
          <tr><th>❄️ Temperature</th><td>-5°C to 0°C in December</td></tr>
          <tr><th>🧥 Essentials</th><td>Thermal layers, waterproof coat, insulated boots</td></tr>
          <tr><th>🔥 Tip</th><td>Carry heat packs to stay warm!</td></tr>
          <tr><th>🤗 Check-ins</th><td>Frequent checks on how everyone is feeling temp and energy wise</td></tr>
        </table>

        <h3>🚆 Transportation</h3>
        <table>
          <tr><th>🚇 Train Pass</th><td>Use <b>Kitaca</b> for seamless travel. It's similar to <b>ICOCA</b> and Suica.</td></tr>
          <tr><th>🚋 Streetcar (Tram)</th><td>
            <ul style="margin:0; padding-left:20px;">
              <li>Single ride: <b>¥200</b> (adults), <b>¥100</b> (children)</li>
              <li>Enter through <b>back door</b>, pay when <b>exiting front</b> (cash or IC card)</li>
              <li>Consider taking Streetcar near Wyndham Garden when <b>visiting Nakajima Park</b></li>
            </ul>
          </td></tr>
          <tr><th>🚌 Buses</th><td>
            <ul style="margin:0; padding-left:20px;">
              <li><b>Payment rules:</b>
                <ul style="margin:0; padding-left:20px;">
                  <li>Most <b>city buses</b>: Board at the <b>front door</b>, tap IC card/take ticket when entering, pay when exiting</li>
                  <li><b>Rural buses</b> (e.g., to Jozankei Onsen): Pay <b>exact fare</b> when boarding (no change given!)</li>
                </ul>
              </li>
              <li><b>Fares:</b> Typically <b>¥210–¥1,500</b> (varies by distance). Display screens show next stop in English.</li>
              <li><b>Tips:</b>
                <ul style="margin:0; padding-left:20px;">
                  <li>Carry <b>¥1,000 bills and coins</b> (many buses don't accept ¥5,000/¥10,000 notes)</li>
                  <li>Check routes via <a href="https://www.city.sapporo.jp/st/" target="_blank">Sapporo City Transport</a></li>
                  <li>Press the <b>stop button</b> 1–2 stops before your destination</li>
                </ul>
              </li>
            </ul>
          </td></tr>
          <tr><th>🎫 Passes</th><td>
            <ul style="margin:0; padding-left:20px;">
              <li><b>Streetcar + Subway 1-Day Pass:</b> ¥1,700 (worth it if making 3+ trips)</li>
              <li><b>Donan Bus Pass:</b> Covers rural areas like Jozankei (¥2,000/day)</li>
            </ul>
          </td></tr>
        </table>

        <h3>👨‍👩‍👧‍👦 General Group Advice</h3>
        <table>
          <tr><th>📱 Comms</th><td>Set up a <b>WhatsApp group</b> for easy coordination</td></tr>
          <tr><th>⏰ Timing</th><td>Plan to meet <b>10-15 minutes early</b> for scheduled activities</td></tr>
          <tr><th>💊 Health</th><td>Bring basic meds (cold, stomach, pain relief, motion)</td></tr>
          <tr><th>🔋 Power</th><td>Bring a <b>portable charger</b> for phones during long outings</td></tr>
          <tr><th>👟 Comfort</th><td>Schedule <b>short breaks</b> between activities - winter walking is tiring!</td></tr>
          <tr><th>🛍️ Tax-Free</th><td>Check for coupons on <b><a href="https://taxfreeshops.jp/en" target="_blank">Japan Tax Free site</a></b> before shopping</td></tr>
        </table>

        <h3>🍣 Dining & Shopping</h3>
        <table>
          <tr><th>🍱 Odd Meal Times</th><td>Avoid peak hours for shorter queues</td></tr>
          <tr><th>💳 Payment</th><td>Many small vendors <b>only accept cash</b></td></tr>
        </table>
        
        <h3>📱 Recommended Travel Apps</h3>
        <table>
          <tr><th>🗺️ Navigation</th><td><b>Google Maps</b> - Download offline maps of Sapporo before departure<br><b>Japan Travel by JNTO</b> - Official tourism app with offline maps</td></tr>
          <tr><th>🚆 Transportation</th><td><b>Japan Transit Planner</b> - For train/bus schedules<br><b>Navitime for Japan Travel</b> - Comprehensive transit information</td></tr>
          <tr><th>🗣️ Translation</th><td><b>Google Translate</b> - Download Japanese offline package<br><b>Papago</b> - Excellent for Asian languages</td></tr>
          <tr><th>⛄ Weather</th><td><b>AccuWeather</b> or <b>Weather Underground</b> - For accurate Sapporo forecasts</td></tr>
          <tr><th>🆘 Emergency</th><td><b>Sapporo Disaster Prevention App</b> - For emergency alerts (available in English)</td></tr>
        </table>
      </div>
    </div>

    <!-- Useful Japanese Phrases -->
    <div class="section phrases" id="phrases">
      <div class="collapsible-header">
        <h2>Useful Japanese Phrases</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <table>
          <!-- Existing Phrases -->
          <tr><th>👋 Hello</th><td>こんにちは (Konnichiwa)</td></tr>
          <tr><th>🙏 Thank you</th><td>ありがとう (Arigatou)</td></tr>
          <tr><th>🙇 Excuse me / Sorry</th><td>すみません (Sumimasen)</td></tr>
          <tr><th>🚻 Where is the restroom?</th><td>トイレはどこですか？ (Toire wa doko desu ka?)</td></tr>
          <tr><th>💰 How much is this?</th><td>これはいくらですか？ (Kore wa ikura desu ka?)</td></tr>
          <tr><th>🛒 I would like this</th><td>これをください (Kore o kudasai)</td></tr>
          <tr><th>🗣️ Do you speak English?</th><td>英語を話せますか？ (Eigo o hanasemasu ka?)</td></tr>
          <tr><th>🧾 Check, please</th><td>お会計をお願いします (Okaikei o onegaishimasu)</td></tr>

          <tr><th>🚆 Is this the train/bus to [place]?</th><td>[Place] 行きですか？ ([Place]-yuki desu ka?)<br><i>e.g. "Otaru-yuki desu ka?" (Is this to Otaru?)</i></td></tr>
          <tr><th>🚆 How many stops to [place]?</th><td>[Place] まで何駅ですか？ ([Place] made nan-eki desu ka?)</td></tr>
          <tr><th>🚆 Where is the bus stop/train station?</th><td>バス停/駅はどこですか？ (Basu-tei/Eki wa doko desu ka?)</td></tr>
          <tr><th>🚆 Does this bus go to [place]?</th><td>このバスは[place]に行きますか？<br>(Kono basu wa [place] ni ikimasu ka?)</td></tr>
          <tr><th>🚆 I want to get off at the next stop</th><td>次で降ります (Tsugi de orimasu)</td></tr>
          <tr><th>🚆 Can I use IC card here?</th><td>ICカードは使えますか？ (IC kādo wa tsukaemasu ka?)</td></tr>
          <tr><th>🚆 Where is [place]?</th><td>[place]はどこですか？<br>([place] wa doko desu ka?)</td></tr>
          
          <tr><th>❄️ It's cold!</th><td>寒いですね！ (Samui desu ne!)</td></tr>
          <tr><th>🍜 Is this spicy?</th><td>これは辛いですか？ (Kore wa karai desu ka?)</td></tr>
          <tr><th>📸 Can you take our photo?</th><td>写真を撮ってくれますか？ (Shashin o totte kuremasu ka?)</td></tr>
        </table>
      </div>
    </div>

    <!-- Flight Info Section -->
    <div class="section" id="flight-info">
      <div class="collapsible-header">
        <h2>✈️ Flight Information</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        	  <!-- ===== OUTBOUND ===== -->
		  <!-- Flight 1: KUL → NRT -->
		  <div class="flight-header">
			<h3>NH816: Kuala Lumpur (KUL) → Tokyo Narita (NRT)</h3>
			<p>📅 <b>22 Dec 2025</b> | 🕗 08:00 | Terminal 1 | Boeing 787-9</p>
		  </div>
		  <table class="flight-passengers">
			<tr><th>Passenger</th><th>Seat</th><th>Notes</th></tr>
			<tr><td>Andy</td><td>17G</td><td>Aisle</td></tr>
			<tr><td>Corra</td><td>18F</td><td>Middle</td></tr>
			<tr><td>Nate</td><td>18D</td><td>Aisle</td></tr>
			<tr><td>Claire</td><td>17F</td><td>Middle</td></tr>
			<tr><td>Eric</td><td>17C</td><td>Aisle</td></tr>
			<tr><td>Huey Chin</td><td>17B</td><td>Middle</td></tr>
			<tr><td>Brian</td><td>18C</td><td>Aisle</td></tr>
			<tr><td>Alison</td><td>17D</td><td>Aisle</td></tr>
		  </table>

		  <!-- Flight 2: NRT → CTS -->
		  <div class="flight-header">
			<h3>NH2155: Tokyo Narita (NRT) → Sapporo (CTS)</h3>
			<p>📅 <b>22 Dec 2025</b> | 🕔 17:50 | Terminal 1 | Boeing 737</p>
		  </div>
		  <table class="flight-passengers">
			<tr><th>Passenger</th><th>Seat</th><th>Notes</th></tr>
			<tr><td>Nate</td><td>21A</td><td>Window</td></tr>
			<tr><td>Corra</td><td>21B</td><td>Middle</td></tr>
			<tr><td>Andy</td><td>21C</td><td>Aisle</td></tr>
			<tr><td>Claire</td><td>21K</td><td>Window</td></tr>
			<tr><td>Eric</td><td>20C</td><td>Aisle</td></tr>
			<tr><td>Huey Chin</td><td>21H</td><td>Aisle</td></tr>
			<tr><td>Brian</td><td>20B</td><td>Middle</td></tr>
			<tr><td>Alison</td><td>21J</td><td>Middle</td></tr>
		  </table>

		  <!-- ===== RETURN ===== -->
		  <!-- Flight 3: CTS → HND -->
		  <div class="flight-header return-flight">
			<h3>NH82: Sapporo (CTS) → Tokyo Haneda (HND)</h3>
			<p>📅 <b>31 Dec 2025</b> | 🕢 20:30 | Terminal D | Airbus A320</p>
		  </div>
		  <table class="flight-passengers">
			<tr><th>Passenger</th><th>Seat</th><th>Notes</th></tr>
			<tr><td>Andy</td><td>16G</td><td>Aisle</td></tr>
			<tr><td>Corra</td><td>17F</td><td>Middle</td></tr>
			<tr><td>Nate</td><td>17D</td><td>Aisle</td></tr>
			<tr><td>Claire</td><td>16F</td><td>Middle</td></tr>
			<tr><td>Eric</td><td>16C</td><td>Aisle</td></tr>
			<tr><td>Huey Chin</td><td>16B</td><td>Middle</td></tr>
			<tr><td>Brian</td><td>17C</td><td>Aisle</td></tr>
			<tr><td>Alison</td><td>16D</td><td>Aisle</td></tr>
		  </table>

		  <!-- Flight 4: HND → KUL -->
		  <div class="flight-header return-flight">
			<h3>NH885: Tokyo Haneda (HND) → Kuala Lumpur (KUL)</h3>
			<p>📅 <b>1 Jan 2026</b> | 🕛 00:05 | Terminal 0 | Boeing 787-9</p>
		  </div>
		  <table class="flight-passengers">
			<tr><th>Passenger</th><th>Seat</th><th>Notes</th></tr>
			<tr><td>Andy</td><td>19D</td><td>Aisle</td></tr>
			<tr><td>Corra</td><td>18J</td><td>Middle</td></tr>
			<tr><td>Nate</td><td>18H</td><td>Aisle</td></tr>
			<tr><td>Claire</td><td>19F</td><td>Middle</td></tr>
			<tr><td>Eric</td><td>19H</td><td>Aisle</td></tr>
			<tr><td>Huey Chin</td><td>19J</td><td>Middle</td></tr>
			<tr><td>Brian</td><td>18G</td><td>Aisle</td></tr>
			<tr><td>Alison</td><td>19G</td><td>Aisle</td></tr>
		  </table>
		
		<!-- SeatMapImage Section -->
		<div class="seatmap-container">
			<img src="https://lh3.googleusercontent.com/d/1pqoheE6iiMXKLuhTi-k3sgifoXFO9Ry-" 
			 alt="ANA Boeing 787-9 seat map" 
			 class="seatmap-thumbnail"
			 data-full-image="https://lh3.googleusercontent.com/d/1EnFB4xiN5PMXmcKKki0BHMVdNxfw0Ful">
		</div>
		 
      </div>
    </div>


    <!-- Before You Go Section -->
    <div class="section" id="reminders">
      <div class="collapsible-header">
        <h2>🔔 Reminders</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>Pre-Trip Preparation Checklist</h3>
        <table>
          <tr><th>📱 Apps</th><td>Download recommended apps and <b>offline maps</b></td></tr>
          <tr><th>💴 Currency</th><td>Exchange some yen before departure (¥30,000-50,000 recommended per person)</td></tr>
          <tr><th>🔌 Adapters</th><td>Japan uses Type A/B plugs (100V) - bring <b>adapters</b> if needed<br>Bring <b>power strip</b> to reduce need for multiple adaptors</td></tr>
          <tr><th>🧥 Clothing</th><td>Pack thermal layers, waterproof outerwear, and comfortable walking boots</td></tr>
          <tr><th>📄 Documents</th><td>Make copies of passports and store separately from originals</td></tr>
          <tr><th>💊 Medications</th><td>Bring sufficient supply plus basic first aid items</td></tr>
          <tr><th>🔋 Electronics</th><td>Portable chargers, battery banks, <b>AirTag</b>.<br>Portable lights - Hotel rooms can be quite dark based on reviews.</td></tr>
          <tr><th>☎️ Contacts</th><td>Save emergency contacts and hotel information offline</td></tr>
        </table>
		<br>
		<h3>Upon Arrival</h3>
		<table>
          <tr><th>🚇 Transport Card</th><td>Purchase Kitaca card at New Chitose Airport (Level B1)</td></tr>
          <tr><th>📱 Internet</th><td>Connect to airport WiFi to confirm hotel directions</td></tr>
          <tr><th>💴 Cash</th><td>Withdraw additional yen from airport ATMs if needed. 7-11 is preferred</td></tr>
          <tr><th>🧣 Weather Check</th><td>Confirm current conditions and adjust clothing accordingly</td></tr>
          <tr><th>🏨 Hotel Contact</th><td>Save hotel phone number and address in Japanese</td></tr>
        </table>
		<br>
		<h3>Before You Leave</h3>
		<table>
          <tr><th>🧳 Packing</th><td>Allow extra time for packing souvenirs</td></tr>
          <tr><th>💴 Currency</th><td>Use remaining yen for airport shopping or exchange</td></tr>
          <tr><th>🚆 Transport</th><td>Confirm airport train times the day before departure</td></tr>
          <tr><th>🏨 Check-out</th><td>Hotel check-out is typically 10:00-11:00 AM</td></tr>
          <tr><th>🧾 Tax Refund</th><td>Process any remaining tax refund forms at the airport</td></tr>
        </table>
      </div>
    </div>

    <!-- PLACES TO EAT -->
    <div class="section" id="places-to-eat">
      <div class="collapsible-header">
        <h2>🍜 Places to Eat</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>📍 Near Wyndham Garden</h3>
		  <ul>
			<li><strong>Ramen カタカナトメジ</strong> - 4.1 rating ¥1,000–2,000 🍜 <a href="https://maps.app.goo.gl/JcjkcWVKUG2AD1278" target="_blank">Link</a></li>
			<img src="https://lh3.googleusercontent.com/d/1IHiu9es07-eDwvRGKfSHE9_G1DQmDlRq" alt="Ramen opposite Wyndham" width="100%">
			<br>
			<li><strong>Ramen 豚骨拉麺大河</strong> - 4.7 rating ¥1,000–2,000 🍜 <a href="https://maps.app.goo.gl/ipMkXjWzBuLajGKU6" target="_blank">Link</a></li>
			<img src="https://lh3.googleusercontent.com/d/1WJnG9jngnTQt43fHlxONGwR2BgM4Qvaj" alt="Ramen2 opposite Wyndham" width="100%">
			<br>
			<li><strong>Aruko Jingisukan</strong> - 4.5 rating ¥2,000–3,000 🍖 <a href="https://maps.app.goo.gl/GwZyzVvTnGdy3SJr7" target="_blank">Link</a></li>
			<img src="https://lh3.googleusercontent.com/d/1yTbqALXC0jOYAo1LDstnATUz5XOKDKT_" alt="Aruko Jingisukan" width="100%">
			<br>
			<li><strong>Soul Store Soup Curry</strong> - 4.4 rating ¥1,000–2,000 🍛 <a href="https://maps.app.goo.gl/9hS6qVGPL8krsTUy8" target="_blank">Link</a></li>
			<img src="https://lh3.googleusercontent.com/d/1gvrfpL2Xx05NL3f6qIJpjQynyMZY-fbZ" alt="Soul Store Soup Curry" width="100%">
			<br>
			<li><strong>Hina-chan Okonomiyaki</strong> - 4.2 rating ¥1,000–2,000 🍛 <a href="https://maps.app.goo.gl/1xxA4HLjDBBQguaj8" target="_blank">Link</a></li>
			<img src="https://lh3.googleusercontent.com/d/1MUmvZIjyV-0yLhk9sNg_0Ax2GlVUY9Of" alt="Hina-chan" width="100%">
		  </ul>

		  <h3>📍 Near Sapporo Station</h3>
		  <ul>
			<li><strong>Kushidori</strong> - Affordable yakitori skewers 🍢</li>
			<li><strong>Kani Honke</strong> - Crab specialty restaurant 🦀</li>
		  </ul>
		  
		   <h3>📍 Near Susukino Station</h3>
		  <ul>
			<li><strong>Katsuissen</strong> - Conveyor belt sushi restaurant - 4.2 ¥2,000–4,000 🍣 <a href="https://maps.app.goo.gl/AJs7wxUxCpC5mPeY8" target="_blank">Link</a></li>
			<img src="https://lh3.googleusercontent.com/d/1p1rc73iGAvn6vJ6K4RG6QWY6kW2f8YbM" alt="Katsuissen" width="100%">
		  </ul> 

		  <h3>📍 Near Otaru</h3>
		  <ul>
			<li><strong>LeTAO</strong> - Famous for cheesecakes 🧀</li>
			<li><strong>Otaru Sankaku Market</strong> - Fresh seafood bowls 🦐</li>
		  </ul>
      </div>
    </div>

    <!-- Before You Leave Section -->
    <div class="section" id="places-of-interest">
      <div class="collapsible-header">
        <h2>🏯 Places of Interest</h2>
        <span class="toggle-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <h3>📍 Near Wyndham Garden</h3>
		<ul>
		<li><strong>Sapporo Drug Store</strong> 💊 - Tanukikoji shopping street<a href="https://maps.app.goo.gl/ToMGPziuJv7iRnfS8" target="_blank"> - Link</a></li>
		<img src="https://lh3.googleusercontent.com/d/1ZlK5mtfCA8_dWJ5umYSdiwdFsqBhzoI2" alt="Sapporo Drug Store" width="100%">
		<br>
		<li><strong>Mega Don Quijote</strong> 🛒 - Opens 24 hours<a href="https://maps.app.goo.gl/3xU6LFaXc2QpYR8u9" target="_blank"> - Link</a></li>
		<img src="https://lh3.googleusercontent.com/d/1j8sYuhOFq8cp65TtozLniqXvkku74FQ4" alt="Mega Don Quijote" width="100%">
		<br>
		<li><strong>Underground walkway - Odori to Sapporo Station</strong> 🚶‍♂️ - Sapporo Ekimae-dori<a href="https://maps.app.goo.gl/nYiw8uiaU1dZbgPA7" target="_blank"> - Link</a></li>
		<li><strong>Underground walkway - Odori to Susukino Station</strong> 🚶‍♂️ - Pole Town<a href="https://maps.app.goo.gl/HFR4TFEWjm8TgN5J9" target="_blank"> - Link</a></li>
		<li><strong>Underground walkway - Odori to East Odori</strong> 🚶‍♂️ - Aurora Town<a href="https://maps.app.goo.gl/c2oqyXcHwuaCLB8m6" target="_blank"> - Link</a></li>
		<br>
		<li><strong>Mitsukoshi Building</strong> 🛒 - Posh departmental store opposite Parco<a href="https://maps.app.goo.gl/yji1gUTFhQir3qQ46" target="_blank"> - Link</a></li>
		<img src="https://lh3.googleusercontent.com/d/1znZpvmFksUDbpc0opAN_D9RxZR24H8Jf" alt="Mitsukoshi Building" width="100%">
		<br>
		<li><strong>Laundromat</strong> 🛒 - <b>Laundry</b> near hotel, <b>10 mins walk</b><a href="https://maps.app.goo.gl/PPybnHJ9pMxvjTuj6" target="_blank"> - Link</a></li>
		<img src="https://lh3.googleusercontent.com/d/1o9OhBaLILJ0zeut0reQEYd3BdmVJaxFU" alt="Laundromat" width="100%">
		<br>
		<br>
		<li><strong>Donguri Ghibli Store</strong> 🛒 - Located on the 7F Parco<a href="https://maps.app.goo.gl/QUa8UAbPBijEekc16" target="_blank"> - Link</a></li>
		<img src="https://lh3.googleusercontent.com/d/17y13ksJH2-7UPm7bTkqbi7Zt4rintgD6" alt="Donguri Ghibli Store" width="100%">
		<br>
		</ul>
      </div>
    </div>
  </div>

  <script>
    // Intersection Observer for animations
    document.addEventListener('DOMContentLoaded', function() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.section, .map').forEach((el) => observer.observe(el));

      // ===== EMBEDDED MAPS =====
      const maps = {
        'map-odori': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.064799848917!2d141.3538443128677!3d43.06110467101608!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b299d5f87648d%3A0xe2041a78c3222031!2sSapporo%20TV%20Tower!5e0!3m2!1sen!2smy!4v1742645577006!5m2!1sen!2smy',
        'map-beer-museum': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2914.572066060117!2d141.3663321128682!3d43.07146707101536!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b29842f2cf6d1%3A0x1360c6faefc5e7cb!2sSapporo%20Beer%20Museum!5e0!3m2!1sen!2smy!4v1742645487874!5m2!1sen!2smy',
        'map-takino': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.724834589238!2d141.350823315431!3d43.061679979146!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b299b7b8f1b3d%3A0x8f0b8f0b8f0b8f0b!2sTakino%20Suzuran%20Hillside%20National%20Park!5e0!3m2!1sen!2sjp!4v1631234567890!5m2!1sen!2sjp',
        'map-jozankei': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.724834589238!2d141.350823315431!3d43.061679979146!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b299b7b8f1b3d%3A0x8f0b8f0b8f0b8f0b!2sJozankei%20Onsen!5e0!3m2!1sen!2sjp!4v1631234567890!5m2!1sen!2sjp',
        'map-teine': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.724834589238!2d141.350823315431!3d43.061679979146!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b299b7b8f1b3d%3A0x8f0b8f0b8f0b8f0b!2sSapporo%20Teine%20Ski%20Resort!5e0!3m2!1sen!2sjp!4v1631234567890!5m2!1sen!2sjp',
        'map-museum': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5194.250178798893!2d141.33936623203647!3d43.058802252591576!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b2996038d1489%3A0xfd685e61e5b29b7e!2sHokkaido%20Museum%20of%20Modern%20Art!5e0!3m2!1sen!2smy!4v1742130176005!5m2!1sen!2smy',
        'map-otaru': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5817.482059053488!2d140.9956963411562!3d43.19394443763838!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0ae05033b256d5%3A0xc6641a555bfa3a0a!2sSakaimachi%2C%20Otaru%2C%20Hokkaido%20047-0027%2C%20Japan!5e0!3m2!1sen!2smy!4v1742130416565!5m2!1sen!2smy',
        'map-pokemon': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2914.76218290021!2d141.34668621288964!3d43.06746907101553!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b2974ffffffff%3A0x72c981d67158e801!2sPok%C3%A9mon%20Center%20Sapporo!5e0!3m2!1sen!2smy!4v1742130494231!5m2!1sen!2smy',
        'map-shiroi': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d11654.947103276383!2d141.27188329999998!3d43.089029!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b281264c7cb53%3A0xc21e3cb8d40a0191!2sShiroi%20Koibito%20Park!5e0!3m2!1sen!2smy!4v1742130635939!5m2!1sen!2smy',
        'map-nijo': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.1981949329!2d141.35586571288923!3d43.058298971016306!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b29825baabd09%3A0x92686bd1182c71f7!2sNijo%20Market!5e0!3m2!1sen!2smy!4v1742130739100!5m2!1sen!2smy',
        'map-wyndham': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.235548015564!2d141.3429569591795!3d43.05751329694237!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b291ba9555b6d%3A0x720054520f07dc02!2sWyndham%20Garden%20Sapporo%20Odori!5e0!3m2!1sen!2smy!4v1742130913755!5m2!1sen!2smy',
        'map-happypancake': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.1592616159064!2d141.34913941286754!3d43.05911787101634!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b297fb75838c9%3A0xbb754824339ab6f8!2sA%20Happy%20Pancake%20Sapporo%20Odori!5e0!3m2!1sen!2smy!4v1743082068635!5m2!1sen!2smy',
        'map-mtmoiwa': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d9811.022648803488!2d141.31430307583952!3d43.023870897005914!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0ad5ee109f6ce9%3A0xc31bc0cdb0f93121!2sMt.%20Moiwa!5e0!3m2!1sen!2smy!4v1743131179852!5m2!1sen!2smy',
        'map-maruyamazoo': 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2915.5208207669143!2d141.3052769128675!3d43.05151257101671!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5f0b29c37dcbb621%3A0x74b24c4658778f26!2sSapporo%20City%20Maruyama%20Zoo!5e0!3m2!1sen!2smy!4v1743080849994!5m2!1sen!2smy'
      };

      Object.entries(maps).forEach(([id, url]) => {
        const element = document.getElementById(id);
        if (element) {
          element.innerHTML = `<iframe src="${url}" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>`;
        }
      });

	//FOR MENU CLOSING BEHAVIOR

		const navContainer = document.querySelector(".nav-container");
		const navButton = document.querySelector(".nav-button");

		// Close menu when clicking a link inside
		document.querySelectorAll(".nav-content a").forEach(link => {
		  link.addEventListener("click", () => {
			navContainer.classList.remove("expanded");
		  });
		});

		// Close menu when clicking outside
		document.addEventListener("click", function(event) {
		  // Check if the click is outside the nav container AND not on the button itself
		  if (navContainer.contains(event.target) === false && event.target !== navButton) {
			navContainer.classList.remove("expanded");
		  }
		});




      // Dark Mode Toggle
      const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
      
      function switchTheme(e) {
        if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
        } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
        }
      }
      
      toggleSwitch.addEventListener('change', switchTheme, false);
      
      // Check for saved user preference
      const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
      
      if (currentTheme) {
        document.documentElement.setAttribute('data-theme', currentTheme);
        
        if (currentTheme === 'dark') {
          toggleSwitch.checked = true;
        }
      }

      // Collapsible Sections
      document.querySelectorAll('.collapsible-header').forEach(header => {
        header.addEventListener('click', function() {
          this.classList.toggle('expanded');
          const content = this.nextElementSibling;
          content.classList.toggle('open');
        });
      });

      // Open the first section by default
      const firstHeader = document.querySelector('.collapsible-header');
      const firstContent = document.querySelector('.collapsible-content');
      if (firstHeader && firstContent) {
        firstHeader.classList.add('expanded');
        firstContent.classList.add('open');
      }

      // Mobile Menu Toggle
      window.toggleNav = function() {
        document.querySelector('.nav-container').classList.toggle('expanded');
      };

      // Modal Image Viewer
      window.openImage = function(src) {
        document.getElementById('modalImage').src = src;
        document.getElementById('imageModal').style.display = 'flex';
      };
      
      window.closeImage = function() {
        document.getElementById('imageModal').style.display = 'none';
      };

	// ===== NEW CODE FOR IMAGE MODAL CLICK LISTENER STARTS =====

	// Add event listener to open modal when thumbnail is clicked
		document.addEventListener('click', function(e) {
		// Check if the clicked element has the class 'seatmap-thumbnail'
		if (e.target.classList.contains('seatmap-thumbnail')) {
		  // Get the full image URL from the data attribute OR the src itself as fallback
		  const fullImageSrc = e.target.dataset.fullImage || e.target.src;
		  // Call the existing openImage function with the correct image source
		  window.openImage(fullImageSrc);
		}
	});

	// Add event listener to the modal itself to close when clicking the background
		const modalElement = document.getElementById('imageModal');
		if (modalElement) {
			modalElement.addEventListener('click', function(e) {
				// Check if the click is directly on the modal background (not the image inside)
				if (e.target === modalElement) {
				  window.closeImage();
				}
			});
		}

	// Add event listener to the close button
		const closeButtonElement = document.querySelector('#imageModal .close-button');
		if (closeButtonElement) {
			closeButtonElement.addEventListener('click', function() {
				window.closeImage();
			});
		}
	// Weather Widget from WeatherWidget.io
	!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');

       
      // PDF Download functionality (mock)
      document.getElementById('pdf-download').addEventListener('click', function(e) {
        e.preventDefault();
        alert('Still needs work. When working, this would generate and download a PDF version of the itinerary. Maybe.');
      });
	  
	  // ===== EXPAND/COLLAPSE ALL STARTS =====

		const toggleAllButton = document.getElementById('toggle-all-sections');
		const allCollapsibleHeaders = document.querySelectorAll('.collapsible-header');
		const allCollapsibleContents = document.querySelectorAll('.collapsible-content');

		if (toggleAllButton && allCollapsibleHeaders.length > 0 && allCollapsibleContents.length > 0) {
		  let areAllExpanded = false; // Start assuming sections are collapsed

		  toggleAllButton.addEventListener('click', function() {
			// Decide whether we need to expand or collapse
			const expandAction = !areAllExpanded;

			// Loop through all headers and content sections
			allCollapsibleHeaders.forEach((header, index) => {
			  const content = header.nextElementSibling; // Assumes content is right after header
			  if (content && content.classList.contains('collapsible-content')) {
				if (expandAction) {
				  // Expand this section
				  header.classList.add('expanded');
				  content.classList.add('open');
				} else {
				  // Collapse this section
				  header.classList.remove('expanded');
				  content.classList.remove('open');
				}
			  }
			});

			// Update the button text and the state tracker
			if (expandAction) {
			  toggleAllButton.textContent = 'Collapse All Sections';
			  areAllExpanded = true;
			} else {
			  toggleAllButton.textContent = 'Expand All Sections';
			  areAllExpanded = false;
			}
		  });
		}
	
	  
    });
  </script>
</body>
</html>
